<p class="sonos-blurb">Login to link your Sonos controller with your Cloud Cover Music account.</p>
<div class="login-container" ng-class="{ 'duo-container': vm.duo.show }">
  <div class="row">
    <div class="col-lg-12 block-unit">
      <div class="app-login-form">
        <p class="text-danger text-center validation-error" ng-if="::!vm.linkCode">Your device could not be identified.<br>Please return to the Sonos app and try again.</p>
        <form ng-hide="vm.isLoginSuccessful" ng-submit="vm.submit()">
          <div class="form-group username">
            <input class="form-control" type="text" placeholder="Username" required autofocus ng-model="vm.form.username">
            <i class="icon fa fa-user"></i>
          </div>
          <div class="form-group password">
            <input class="form-control" type="password" placeholder="Password" required ng-model="vm.form.password">
            <i class="icon fa fa-lock"></i>
          </div>
          <div class="button-bar">
            <button class="signin btn btn-success" type="submit" ng-disabled="!vm.linkCode || vm.isSubmitting">
              <i class='icon-signin'></i>Log in
            </button>
            <img class="loader" src="/images/ajax-loader.gif" ng-show="vm.isSubmitting">
          </div>
          <div class="lost-password">
            <a ui-sref="loggedout.forgotpassword({ linkcode: vm.linkCode })">Forgot Your Password?</a>
          </div>
        </form>
        <p ng-if="vm.errorMessage" ng-bind="vm.errorMessage"></p>
        <div class="text-center" ng-show="vm.duo.isLoading">
          <i class="fa fa-gear fa-3x fa-spin" style="margin: 100px 0;"></i>
        </div>
        <div class="ng-hide" id="duo-container" ng-show="vm.duo.show && !vm.errors.authorization">
          <p class="alert alert-danger text-center" ng-show="vm.errors.secondaryAuthentication"><i class="fa fa-exclamation-circle fa-push-right"></i><span ng-bind="vm.errors.secondaryAuthentication.message"></span></p>
          <iframe id="duo-iframe" ccm-on-load="vm.onDuoLoaded($event)"></iframe>
        </div>
      </div>
    </div>
  </div>
</div>

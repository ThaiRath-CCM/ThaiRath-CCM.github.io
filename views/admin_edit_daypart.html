<div class="container">
  <div class="ccm-edit-screen-with-back-button daypart-edit-screen">
    <ol class="breadcrumb" aria-label="breadcrumb">
      <li>
        <a class="back-button" ng-click="clickBackButton()">
          <i class="fa fa-long-arrow-left fa-push-right"></i>Back to Dayparting
        </a>
      </li>
      <li class="pull-right">
        <a href="https://help.cloudcovermusic.com/articles/448623-how-to-create-a-daypart-a-k-a-schedule" target="_blank" rel="noopener">
          <span class="hidden-xs">How to: Create a Daypart<i class="fa fa-external-link fa-push-left"></i></span>
          <span class="visible-xs"><i class="fa fa-question-circle"></i></span>
        </a>
      </li>
    </ol>
    <form name="vm.formController" ng-submit="submit()" novalidate>
      <div class="admin-toolbar left-right header visible-xs">
        <div class="left-side empty"></div>
        <div class="right-side">
          <button class="btn btn-success" type="submit" ng-disabled="vm.isSaving">
            <i class="fa fa-check fa-push-right"></i><span ng-bind="::isEditing ? 'Save Changes' : 'Save Daypart'"></span>
          </button>
        </div>
      </div>
      <div class="edit-daypart-header">
        <div class="row">
          <div class="col-sm-6 col-md-12">
            <h1 class="has-tooltip"><span><span ng-bind="::isEditing ? 'Edit' : 'Create'"></span> Daypart</span><i class="fa fa-question-circle" tooltip="Schedule music by time and day of the week to run automatically on any device." tooltip-placement="right"></i></h1>
          </div>
          <div class="col-sm-6 visible-sm text-right">
            <button class="btn btn-success" type="submit" ng-disabled="vm.isSaving">
              <i class="fa fa-check fa-push-right"></i><span ng-bind="::isEditing ? 'Save Changes' : 'Save Daypart'"></span>
            </button>
          </div>
        </div>
      </div>
      <div class="top-toolbar">
        <div class="daypart-form-header">
          <div class="row">
            <div class="col-md-9">
              <div class="row">
                <div class="col-md-9 col-lg-7">
                  <div class="form-group daypart-name-form-group" ng-class="{ 'has-error': (vm.formController.$submitted && vm.formController.daypartName.$invalid) || vm.formController.daypartName.$error.unique }">
                    <input class="form-control" name="daypartName" type="text" placeholder="Daypart Name" autocomplete="off" required
                           ng-model="formData.name"
                           ng-model-options="{ allowInvalid: true, debounce: 500 }"
                           ng-change="changeForm()"
                           ng-minlength="4"
                           ng-maxlength="80"
                           ng-pattern="/^[\w\-'():\\/,@&#+<>.\s]+$/"
                           daypartingedit-unique="daypartName"
                           focus-input>
                    <span class="name-validation-pending" ng-show="vm.formController.$pending"><i class="fa fa-lg fa-spinner fa-spin fa-push-left"></i></span>
                    <div class="help-block validation-error"
                         ng-show="(vm.formController.$submitted && vm.formController.daypartName.$invalid) || vm.formController.daypartName.$error.unique"
                         ng-messages="vm.formController.daypartName.$error">
                      <span ng-message="required">The Daypart name is required</span>
                      <span ng-message="minlength">The Daypart name must be at least 4 characters</span>
                      <span ng-message="maxlength">The Daypart name cannot be longer than 80 characters</span>
                      <span ng-message="pattern">The Daypart name can only contain: space, comma, a-Z, 0-9, ., :, /, \, @, &amp;, _, -, (, ), #, +, &lt;, &gt;</span>
                      <span ng-message="unique">A Daypart with the same name has already been created</span>
                    </div>
                  </div>
                </div>
                <div class="col-md-3 col-lg-5">
                  <label class="checkbox-inline global-checkbox" ng-if="::allowSetGlobal">
                    <input type="checkbox"
                           ng-model="formData.isGlobal"
                           ng-change="changeForm()"
                           ng-true-value="1"
                           ng-false-value="0">
                      Global<i class="fa fa-question-circle"
                               tooltip="Allow all locations to select this daypart"
                               tooltip-placement="top"
                               tooltip-append-to-body="true"></i>
                  </label>
                </div>
              </div>
            </div>
            <div class="col-md-3 hidden-xs hidden-sm text-right">
              <button class="btn btn-success" type="submit" ng-disabled="vm.isSaving">
                <i class="fa fa-check fa-push-right"></i><span ng-bind="::isEditing ? 'Save Changes' : 'Save Daypart'"></span>
              </button>
            </div>
          </div>
        </div>
        <div class="daypart-toolbar">
          <div class="daypart-timezone-label">
            <label>Note: The daypart will observe the location's time zone.</label>
          </div>
          <div>
            <a class="action-button zoom-out" ng-click="zoomOut()" title="Zoom out">
              <i class="fa fa-search-minus"></i>
            </a>
            <a class="action-button zoom-in" ng-click="zoomIn()" title="Zoom in">
              <i class="fa fa-search-plus"></i>
            </a>
          </div>
        </div>
      </div>
      <div class="scheduler-container" ng-class="dataAreaSize">
        <daypart-scheduler class="scheduler" slots="slots" zoom="daypartZoom"></daypart-scheduler>
      </div>
      <div class="bottom-toolbar">
        <div class="split-row">
          <div class="section-1 left form-inline">
            <span>Copy</span>
            <select class="form-control input-sm" ng-model="copyFrom">
              <option ng-value="0">Monday</option>
              <option ng-value="1">Tuesday</option>
              <option ng-value="2">Wednesday</option>
              <option ng-value="3">Thursday</option>
              <option ng-value="4">Friday</option>
              <option ng-value="5">Saturday</option>
              <option ng-value="6">Sunday</option>
            </select>
            <span>to the whole week</span>
            <div class="clone-button-container">
              <button class="btn btn-primary btn-xs clone-button" type="button" ng-click="copyDay(copyFrom)">Copy</a>
            </div>
          </div>
        </div>
      </div>
      <hr class="daypart-rule">
      <h3>Create and Edit Your Daypart</h3>
      <ol>
        <li>To add a Station or Mix Station, <b>click in the calendar</b> at the desired time (a green Add New box will appear). The scheduling box will pop up.</li>
        <li>Select a Station or Mix Station, start time, and end time in the scheduling box. Click <b>Save</b>.</li>
        <li>You can <b>stretch</b> the start or end time by clicking and holding at the beginning or end of a Station.</li>
        <li>Click and hold in the middle of a Station to <b>drag</b> it to different times.</li>
        <li>Click on a station to see the <b>Edit</b> and <b>Delete</b> tools.</li>
      </ol>
      <div class="daypart-user-timezone">
        <div class="timezone form-inline">
          <div class="form-group" ng-class="{ 'has-error': vm.formController.$submitted && vm.formController.daypartTimezone.$invalid }">
            <label class="control-label" for="daypart-timezone">Your User's Timezone</label>
            <select class="form-control input-sm" id="daypart-timezone" name="daypartTimezone" required
                    ng-class="{ missing: !formData.timezone }"
                    ng-model="formData.timezone"
                    ng-change="changeForm()"
                    ng-options="value for value in timezones">
              <option value="">&mdash; Select a timezone &mdash;</option>
            </select>
            <span class="help-block validation-error" ng-show="vm.formController.$submitted && vm.formController.daypartTimezone.$error.required">Your timezone is required</span>
          </div>
        </div>
      </div>
      <div class="text-center visible-xs visible-sm">
        <button class="btn btn-success mobile-submit-btn" type="submit"
                ng-disabled="vm.isSaving"
                ng-click="onMobileFormSubmission()">
          <i class="fa fa-check fa-push-right"></i><span ng-bind="::isEditing ? 'Save Changes' : 'Save Daypart'"></span>
        </button>
      </div>
    </form>
  </div>
</div>